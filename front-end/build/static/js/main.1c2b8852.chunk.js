(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{180:function(e,t,n){e.exports=n(315)},314:function(e,t,n){},315:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),l=n(9),i=n(23),u=n(364),s=n(360),m=n(361),b=n(20),p=n(349),d=n(24),f=n(345);function E(){var e=Object(d.a)(["\n  z-index: 2;\n  background-color: #ffffff;\n\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n\n  border-top: 5px solid ",";\n"]);return E=function(){return e},e}var O=Object(b.b)(f.a)(E(),(function(e){return e.theme.palette.primary.main})),g=n(2),h=n.n(g),j=(h.a.string,h.a.string,n(25)),v=n(316);function x(){var e=Object(d.a)(["\n  flex-grow: ",";\n  font-weight: ",";\n  font-family: inherit;\n\n  i {\n    margin-right: 10px;\n  }\n"]);return x=function(){return e},e}var y=Object(b.b)(v.a)(x(),(function(e){return e.flexGrow?"1":"none"}),(function(e){return e.bold?"bold":"none"})),w=(h.a.oneOfType([h.a.string,h.a.object]),h.a.bool,h.a.string,h.a.string,h.a.string,h.a.bool,function(e){var t=e.children,n=Object(j.a)(e,["children"]);return r.a.createElement(y,n,t)});w.defaultProps={children:"",flexGrow:!1,variant:"body1",align:"inherit",color:"inherit",bold:!1};var L=n(366);function k(){var e=Object(d.a)(["\n  i {\n    margin-right: 10px;\n  }\n"]);return k=function(){return e},e}var S=Object(b.b)(L.a)(k()),R=(h.a.any,h.a.string,h.a.string,h.a.string,function(e){var t=e.children,n=Object(j.a)(e,["children"]);return r.a.createElement(S,n,t)});R.defaultProps={color:"inherit",variant:"text",size:"medium"};var A=function(e){return{type:"AUTH_ERROR",payload:{msg:e.response.statusText,status:e.response.status}}},D=n(44),T=Object(D.a)((function(e){return e.auth.loading}),(function(e){return e})),C=Object(D.a)((function(e){return e.auth.isAuthenticated}),(function(e){return e})),_=Object(D.a)((function(e){return e.auth.user}),(function(e){return e})),G=function(e){var t=Object.assign({},e),n=Object(l.c)(),c=r.a.createElement(R,{variant:"outlined",onClick:function(){return n({type:"LOGOUT"})}},"Logout"),o=r.a.createElement(a.Fragment,null,r.a.createElement(i.b,{to:"/register"},r.a.createElement(R,null,"Register")),r.a.createElement(i.b,{to:"/login"},r.a.createElement(R,null,"Login"))),u=Object(l.d)(T),s=Object(l.d)(C);return r.a.createElement(O,t,r.a.createElement(p.a,null,r.a.createElement(w,{variant:"h6",flexGrow:!0,bold:!0},r.a.createElement(i.b,{to:"/dashboard"},"Blogger")),!u&&s?c:o))};G.defaultProps={position:"fixed",color:"transparent"};var B=n(27),P=n(350);function N(){var e=Object(d.a)(["\n  height: 100%;\n  display: ",";\n  justify-content: ",";\n  align-items: ",";\n  padding-top: ",";\n  padding-bottom: ",";\n"]);return N=function(){return e},e}var U=Object(b.b)(P.a)(N(),(function(e){return e.authRoute?"flex":"block"}),(function(e){return e.authRoute?"center":"none"}),(function(e){return e.authRoute?"center":"none"}),(function(e){return e.authRoute?"0":"100px"}),(function(e){return e.authRoute?"0":"100px"})),I=(h.a.any,h.a.bool,function(e){var t=e.children,n=Object(j.a)(e,["children"]);return r.a.createElement(U,n,t)});I.defaultProps={authRoute:!1};var z=n(352),M=n(368);function Y(){var e=Object(d.a)([""]);return Y=function(){return e},e}var W=Object(b.b)(M.a)(Y()),F=(h.a.string,h.a.string,Object(D.a)((function(e){return e.alert.open}),(function(e){return e}))),J=Object(D.a)((function(e){return e.alert.message}),(function(e){return e})),q=function(e){return{type:"SET_ALERT",payload:e}},H=function(e){var t=Object.assign({},e);return r.a.createElement(z.a,Object.assign({},t,{direction:"up"}))},V=function(e){var t=e.vertical,n=e.horizontal,a=Object(l.c)(),c=Object(l.d)(F),o=Object(l.d)(J);return r.a.createElement(W,{anchorOrigin:{vertical:t,horizontal:n},open:c,message:o,TransitionComponent:H,autoHideDuration:3e3,onClose:function(){return a({type:"REMOVE_ALERT"})}})};V.defaultProps={vertical:"bottom",horizontal:"left"};var K=function(e){var t=e.component,n=Object(j.a)(e,["component"]),a=Object(l.d)(T),c=Object(l.d)(C);return r.a.createElement(B.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(B.a,{to:"/login"}):a||c?r.a.createElement(t,e):r.a.createElement(B.a,{to:"/login"})}}))},Q=n(119),X=n(171);function Z(){var e=Object(d.a)(["\n  width: 475px;\n  height: fit-content;\n  padding: 30px 20px;\n"]);return Z=function(){return e},e}var $=Object(b.b)(X.a)(Z()),ee=(h.a.any,h.a.number,function(e){var t=e.children,n=Object(j.a)(e,["children"]);return r.a.createElement($,n,t)});ee.defaultProps={elevation:3};var te=n(365),ne=n(363),ae=n(353);function re(){var e=Object(d.a)([""]);return re=function(){return e},e}var ce=Object(b.b)(ae.a)(re()),oe=(h.a.any,h.a.number,function(e){var t=e.children,n=Object(j.a)(e,["children"]);return r.a.createElement(ce,Object.assign({container:!0},n),t)});function le(){var e=Object(d.a)(["\n  text-align: ",";\n  padding: 10px 12px !important;\n\n  & > a {\n    text-decoration: none;\n    color: inherit;\n  }\n"]);return le=function(){return e},e}oe.defaultProps={spacing:3};var ie=Object(b.b)(ae.a)(le(),(function(e){return e.rtl?"right":"left"})),ue=(h.a.any,h.a.bool,function(e){var t=e.children,n=Object(j.a)(e,["children"]);return r.a.createElement(ie,Object.assign({item:!0},n),t)});ue.defaultProps={rtl:!1};var se=n(362);function me(){var e=Object(d.a)(["\n  width: 100%;\n"]);return me=function(){return e},e}var be=Object(b.b)(se.a)(me()),pe=(h.a.string,function(e){var t=Object.assign({},e);return r.a.createElement(be,t)});pe.defaultProps={variant:"outlined"};var de=function(e){var t=e.input,n=e.type,a=e.label,c=e.meta,o=c.touched,l=c.error;return r.a.createElement(pe,Object.assign({},t,{type:n,label:a,error:!(!o||!l),helperText:l}))},fe=Object(ne.a)({form:"login-form"})((function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t},r.a.createElement(oe,null,r.a.createElement(ue,{xs:12},r.a.createElement(w,{variant:"h3",align:"center",gutterBottom:!0,bold:!0},r.a.createElement("i",{className:"fas fa-user"}),"Login")),r.a.createElement(ue,{xs:12},r.a.createElement(te.a,{name:"email",type:"email",label:"Email",component:de})),r.a.createElement(ue,{xs:12},r.a.createElement(te.a,{name:"password",type:"password",label:"Password",component:de})),r.a.createElement(ue,{xs:12},r.a.createElement(R,{type:"submit",color:"primary",variant:"contained",size:"large",fullWidth:!0},"Login")),r.a.createElement(ue,{xs:12},r.a.createElement(w,{variant:"body2",align:"center"},"Don't have an account?"," ",r.a.createElement(i.b,{to:"/register"},"Click here to register")))))})),Ee=function(){var e=Object(l.c)(),t=Object(l.d)(T),n=Object(l.d)(C);return!t&&n?r.a.createElement(B.a,{to:"/dashboard"}):r.a.createElement(ee,null,r.a.createElement(fe,{onSubmit:function(t){var n=t.email,a=t.password;if(!n)throw new Q.a({email:"Please enter a valid email"});if(!a)throw new Q.a({password:"Please enter your password"});e(function(e,t){return{type:"LOGIN",payload:{email:e,password:t}}}(n,a))}}))},Oe=function(e){var t=e.input,n=e.type,a=e.label,c=e.meta,o=c.touched,l=c.error;return r.a.createElement(pe,Object.assign({},t,{type:n,label:a,error:!(!o||!l),helperText:l}))},ge=Object(ne.a)({form:"register-form"})((function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t},r.a.createElement(oe,null,r.a.createElement(ue,{xs:12},r.a.createElement(w,{variant:"h3",align:"center",gutterBottom:!0,bold:!0},r.a.createElement("i",{className:"fas fa-user"}),"Register")),r.a.createElement(ue,{xs:12},r.a.createElement(te.a,{name:"name",type:"name",label:"Name",component:Oe})),r.a.createElement(ue,{xs:12},r.a.createElement(te.a,{name:"email",type:"email",label:"Email",component:Oe})),r.a.createElement(ue,{xs:12},r.a.createElement(te.a,{name:"password",type:"password",label:"Password",component:Oe})),r.a.createElement(ue,{xs:12},r.a.createElement(te.a,{name:"cpassword",type:"password",label:"Confirm Password",component:Oe})),r.a.createElement(ue,{xs:12},r.a.createElement(R,{type:"submit",color:"primary",variant:"contained",size:"large",fullWidth:!0},"Register")),r.a.createElement(ue,{xs:12},r.a.createElement(w,{variant:"body2",align:"center"},"Already have an account?"," ",r.a.createElement(i.b,{to:"/login"},"Click here to login")))))})),he=function(){var e=Object(l.c)(),t=Object(l.d)(T),n=Object(l.d)(C);return!t&&n?r.a.createElement(B.a,{to:"/dashboard"}):r.a.createElement(ee,null,r.a.createElement(ge,{onSubmit:function(t){var n=t.name,a=t.email,r=t.password,c=t.cpassword;if(!n)throw new Q.a({name:"Please enter your name"});if(!a)throw new Q.a({email:"Please enter a valid email"});if(!r)throw new Q.a({password:"Please enter your password"});if(!c||r!==c)throw new Q.a({cpassword:"Passwords do not match"});if(r.length<6)throw new Q.a({password:"Password must contain atleast 6 characters"});e(function(e,t,n){return{type:"REGISTER",payload:{name:e,email:t,password:n}}}(n,a,r))}}))},je=n(169),ve=n(66),xe=n.n(ve),ye=n(358),we=n(359),Le=n(354);function ke(){var e=Object(d.a)(["\n  margin-bottom: 20px;\n\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n"]);return ke=function(){return e},e}var Se=Object(b.b)(Le.a)(ke()),Re=(h.a.string,h.a.bool,h.a.object.isRequired,n(355)),Ae=n(356),De=n(357),Te=n(369);function Ce(){var e=Object(d.a)([""]);return Ce=function(){return e},e}var _e=Object(b.b)(Te.a)(Ce()),Ge=(h.a.bool,h.a.func.isRequired,h.a.string,h.a.bool,h.a.string,h.a.string,h.a.bool,h.a.bool,h.a.bool,h.a.func.isRequired,h.a.func.isRequired,r.a.forwardRef((function(e,t){return r.a.createElement(z.a,Object.assign({direction:"up",ref:t},e))}))),Be=function(e){var t=e.title,n=e.content,a=e.open,c=e.onClose,o=e.onConfirm,l=Object(j.a)(e,["title","content","open","onClose","onConfirm"]);return r.a.createElement(_e,Object.assign({open:a,TransitionComponent:Ge},l),r.a.createElement(Re.a,null,t),r.a.createElement(Ae.a,{dividers:!0},n),r.a.createElement(De.a,null,r.a.createElement(R,{autoFocus:!0,variant:"outlined",onClick:c},"Close"),r.a.createElement(R,{color:"primary",variant:"contained",onClick:o},"Ok")))};Be.defaultProps={open:!1,maxWidth:"sm",fullWidth:!0,title:"",content:"",disableBackdropClick:!0,disableEscapeKeyDown:!0,keepMounted:!0};var Pe=function(e){return{type:"BLOG_DELETED",payload:e}},Ne=function(e){return{type:"LOAD_BLOG",payload:{id:e}}},Ue=function(e){return{type:"BLOG_ERROR",payload:{msg:e.response.statusText,status:e.response.status}}},Ie=function(e){var t=e.blog,n=e.showActions,c=Object(j.a)(e,["blog","showActions"]),o=t.id,u=t.title,s=t.timestamp,m=t.description,b=Object(l.c)(),p=Object(a.useState)(!1),d=Object(je.a)(p,2),f=d[0],E=d[1];return r.a.createElement(Se,c,r.a.createElement(ye.a,null,r.a.createElement(i.b,{to:"/blog/".concat(o)},r.a.createElement(w,{variant:"h4",noWrap:!0},u)),r.a.createElement(w,{color:"textSecondary",noWrap:!0},"Created on",r.a.createElement(xe.a,{format:"DD-MMM-YYYY"},s),","," ",r.a.createElement(xe.a,{format:"hh:mm a"},s)),r.a.createElement(w,{variant:"body2",noWrap:!0},m)),n&&r.a.createElement(a.Fragment,null,r.a.createElement(we.a,null,r.a.createElement(i.b,{to:"/edit-blog/".concat(o)},r.a.createElement(R,{variant:"contained",color:"secondary"},r.a.createElement("i",{className:"fas fa-pencil-alt"}),"Edit")),r.a.createElement(R,{variant:"outlined",onClick:function(){return E(!0)}},r.a.createElement("i",{className:"fas fa-trash"}),"Delete")),r.a.createElement(Be,{title:"Confirm",content:"Are you sure you want to delete this blog? You will not be able to undo this action!",open:f,onClose:function(){E(!1)},onConfirm:function(){b(function(e){return{type:"DELETE_BLOG",payload:{id:e}}}(o)),E(!1)}})))};Ie.defaultProps={variant:"outlined",raised:!0};var ze=Object(D.a)((function(e){return e.blog.loading}),(function(e){return e})),Me=Object(D.a)((function(e){return e.blog.blogs}),(function(e){return e})),Ye=Object(D.a)((function(e){return e.blog.blog}),(function(e){return e})),We=function(){var e=Object(l.c)(),t=Object(l.d)(_),n=Object(l.d)(ze),c=Object(l.d)(Me);return Object(a.useEffect)((function(){e({type:"LOAD_ALL_BLOGS"})}),[t]),r.a.createElement(oe,null,!n&&c.length>0&&null!==t&&c.map((function(e){return r.a.createElement(ue,{key:e.id,xs:12},r.a.createElement(Ie,{blog:e,showActions:t.id===e.owner}))})))},Fe=function(){return r.a.createElement(oe,null,r.a.createElement(ue,{xs:12,rtl:!0},r.a.createElement(i.b,{to:"/create-blog"},r.a.createElement(R,{color:"primary",size:"large",variant:"contained"},"Create new blog"))),r.a.createElement(ue,{xs:12},r.a.createElement(We,null)))},Je=function(e){var t=e.input,n=e.type,a=e.label,c=e.meta,o=c.touched,l=c.error,i=Object(j.a)(e,["input","type","label","meta"]);return r.a.createElement(pe,Object.assign({},t,{type:n,label:a,error:!(!o||!l),helperText:l},i))},qe=Object(ne.a)({form:"create-blog-form"})((function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t},r.a.createElement(oe,null,r.a.createElement(ue,{xs:12},r.a.createElement(te.a,{name:"title",type:"text",label:"Title",component:Je})),r.a.createElement(ue,{xs:12},r.a.createElement(te.a,{name:"description",type:"text",label:"Description",multiline:!0,rows:10,component:Je})),r.a.createElement(ue,{xs:12},r.a.createElement(R,{type:"submit",color:"primary",variant:"contained",size:"large"},"Submit"))))})),He=function(){var e=Object(B.g)(),t=Object(l.c)();return r.a.createElement(oe,null,r.a.createElement(ue,{xs:12},r.a.createElement(R,{variant:"outlined",onClick:function(){return e.goBack()}},r.a.createElement("i",{className:"fas fa-arrow-left"}),"Go back")),r.a.createElement(ue,{xs:12},r.a.createElement(w,{variant:"h4",gutterBottom:!0},r.a.createElement("i",{className:"fas fa-blog"}),"Fill in the information to create a new blog")),r.a.createElement(ue,{xs:12},r.a.createElement(qe,{onSubmit:function(n){var a=n.title,r=n.description;if(!a)throw new Q.a({title:"Please enter a title"});if(!r)throw new Q.a({description:"Please enter a description"});t(function(e,t,n){return{type:"CREATE_BLOG",payload:{title:e,description:t,history:n}}}(a,r,e))}})))},Ve=function(e){var t=e.input,n=e.type,a=e.label,c=e.meta,o=c.touched,l=c.error,i=Object(j.a)(e,["input","type","label","meta"]);return r.a.createElement(pe,Object.assign({},t,{type:n,label:a,error:!(!o||!l),helperText:l},i))},Ke=Object(ne.a)({form:"create-blog-form",enableReinitialize:!0})((function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t},r.a.createElement(oe,null,r.a.createElement(ue,{xs:12},r.a.createElement(te.a,{name:"title",type:"text",label:"Title",component:Ve})),r.a.createElement(ue,{xs:12},r.a.createElement(te.a,{name:"description",type:"text",label:"Description",multiline:!0,rows:10,component:Ve})),r.a.createElement(ue,{xs:12},r.a.createElement(R,{type:"submit",color:"primary",variant:"contained",size:"large"},"Submit"))))})),Qe=function(){var e=Object(B.g)(),t=Object(l.c)(),n=Object(B.i)().id,c=Object(l.d)(ze),o=Object(l.d)(Ye),i=Object(l.d)(_);Object(a.useEffect)((function(){t(Ne(n))}),[i]);return r.a.createElement(oe,null,r.a.createElement(ue,{xs:12},r.a.createElement(R,{variant:"outlined",onClick:function(){return e.goBack()}},r.a.createElement("i",{className:"fas fa-arrow-left"}),"Go back")),r.a.createElement(ue,{xs:12},r.a.createElement(w,{variant:"h4",gutterBottom:!0},r.a.createElement("i",{className:"fas fa-blog"}),"Fill in the information to edit the blog")),r.a.createElement(ue,{xs:12},!c&&null!==o&&r.a.createElement(Ke,{onSubmit:function(a){var r=a.title,c=a.description;if(!r)throw new Q.a({title:"Please enter a title"});if(!c)throw new Q.a({description:"Please enter a description"});t(function(e,t,n,a){return{type:"UPDATE_BLOG",payload:{id:e,title:t,description:n,history:a}}}(n,r,c,e))},initialValues:{title:null!==o?o.title:"",description:null!==o?o.description:""}})))},Xe=n(165),Ze=n.n(Xe),$e=function(){var e=Object(l.c)(),t=Object(B.i)().id,n=Object(l.d)(_),c=Object(l.d)(ze),o=Object(l.d)(Ye),i=Object(B.g)();return Object(a.useEffect)((function(){e(Ne(t))}),[n]),r.a.createElement(oe,null,r.a.createElement(ue,{xs:12},r.a.createElement(R,{variant:"outlined",onClick:function(){return i.goBack()}},r.a.createElement("i",{className:"fas fa-arrow-left"}),"Go back")),r.a.createElement(ue,{xs:12},r.a.createElement(w,{variant:"h4",bold:!0},!c&&null!==o&&o.title)),r.a.createElement(ue,{xs:12},r.a.createElement(w,{variant:"h6",color:"textSecondary"},"Created on"," ",r.a.createElement(xe.a,{format:"DD-MMM-YYYY"},!c&&null!==o&&o.timestamp),","," ",r.a.createElement(xe.a,{format:"hh:mm a"},!c&&null!==o&&o.timestamp))),r.a.createElement(ue,{xs:12},r.a.createElement(w,null,!c&&null!==o&&Ze()(o.description.replaceAll("\n"," <br />")))))},et=function(){var e=Object(B.h)().pathname;return r.a.createElement(I,{authRoute:"/login"===e||"/register"===e},r.a.createElement(V,null),r.a.createElement(B.d,null,r.a.createElement(K,{path:"/dashboard",component:Fe}),r.a.createElement(K,{path:"/create-blog",component:He}),r.a.createElement(K,{path:"/edit-blog/:id",component:Qe}),r.a.createElement(K,{path:"/blog/:id",component:$e}),r.a.createElement(B.b,{path:"/register",component:he}),r.a.createElement(B.b,{path:"/login",component:Ee}),r.a.createElement(B.a,{to:"/dashboard"})))},tt=n(19),nt=n(166),at=n(170),rt=n(370),ct=n(22),ot={open:!1,message:""},lt={user:null,loading:!0,isAuthenticated:!1,error:null,token:localStorage.getItem("token")},it=n(168),ut={blog:null,blogs:[],loading:!0,error:null},st=Object(tt.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_ALERT":return Object(ct.a)(Object(ct.a)({},e),{},{open:!0,message:a});case"REMOVE_ALERT":return Object(ct.a)(Object(ct.a)({},e),{},{open:!1,message:""});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"USER_LOADED":return Object(ct.a)(Object(ct.a)({},e),{},{user:a,loading:!1,isAuthenticated:!0,error:null});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",a),Object(ct.a)(Object(ct.a)({},e),{},{loading:!1,isAuthenticated:!0,error:null,token:a});case"AUTH_ERROR":return localStorage.removeItem("token"),Object(ct.a)(Object(ct.a)({},e),{},{loading:!1,isAuthenticated:!1,error:a,token:null});case"LOGOUT":return localStorage.removeItem("token"),Object(ct.a)(Object(ct.a)({},e),{},{loading:!1,error:null,isAuthenticated:!1,user:null,token:null});default:return e}},blog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"ALL_BLOGS_LOADED":return Object(ct.a)(Object(ct.a)({},e),{},{loading:!1,error:null,blogs:a});case"BLOG_LOADED":return Object(ct.a)(Object(ct.a)({},e),{},{loading:!1,error:null,blog:a});case"BLOG_ERROR":return Object(ct.a)(Object(ct.a)({},e),{},{loading:!1,error:a});case"BLOG_DELETED":return Object(ct.a)(Object(ct.a)({},e),{},{loading:!1,error:null,blogs:Object(it.a)(e.blogs.filter((function(e){return e.id!==a})))});case"BLOG_CREATED":case"BLOG_UPDATED":default:return e}},form:rt.a}),mt=n(26),bt=n.n(mt),pt=n(10),dt=n(39),ft=n.n(dt),Et=function(){var e=localStorage.getItem("token");e?ft.a.defaults.headers.common.Authorization="Token ".concat(e):delete ft.a.defaults.headers.common.Authorization},Ot=bt.a.mark(vt),gt=bt.a.mark(xt),ht=bt.a.mark(yt),jt=bt.a.mark(wt);function vt(){var e;return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Et(),t.next=4,Object(pt.a)((function(){return ft.a.get("/api/users/current/")}));case 4:return e=t.sent,t.next=7,Object(pt.b)({type:"USER_LOADED",payload:e.data});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(pt.b)(A(t.t0));case 13:case"end":return t.stop()}}),Ot,null,[[0,9]])}function xt(e){var t,n,a,r,c,o;return bt.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,n=t.email,a=t.password,r=JSON.stringify({email:n,password:a}),c={headers:{"Content-Type":"application/json"}},l.prev=3,l.next=6,Object(pt.a)((function(){return ft.a.post("/api/users/login/",r,c)}));case 6:return o=l.sent,l.next=9,Object(pt.b)({type:"LOGIN_SUCCESS",payload:o.data.token});case 9:return l.next=11,vt();case 11:l.next=20;break;case 13:return l.prev=13,l.t0=l.catch(3),l.next=17,Object(pt.b)(A(l.t0));case 17:if(401!==l.t0.response.status){l.next=20;break}return l.next=20,Object(pt.b)(q("Invalid credentials"));case 20:case"end":return l.stop()}}),gt,null,[[3,13]])}function yt(e){var t,n,a,r,c,o,l;return bt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.name,a=t.email,r=t.password,c=JSON.stringify({name:n,email:a,password:r}),o={headers:{"Content-Type":"application/json"}},i.prev=3,i.next=6,Object(pt.a)((function(){return ft.a.post("/api/users/",c,o)}));case 6:return l=i.sent,i.next=9,Object(pt.b)({type:"REGISTER_SUCCESS",payload:l.data.token});case 9:return i.next=11,vt();case 11:i.next=20;break;case 13:return i.prev=13,i.t0=i.catch(3),i.next=17,Object(pt.b)(A(i.t0));case 17:if(400!==i.t0.response.status){i.next=20;break}return i.next=20,Object(pt.b)(q("User with this email already exists"));case 20:case"end":return i.stop()}}),ht,null,[[3,13]])}function wt(){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pt.d)("LOGIN",xt);case 2:return e.next=4,Object(pt.d)("REGISTER",yt);case 4:return e.next=6,Object(pt.d)("LOAD_USER",vt);case 6:case"end":return e.stop()}}),jt)}var Lt=bt.a.mark(Tt),kt=bt.a.mark(Ct),St=bt.a.mark(_t),Rt=bt.a.mark(Gt),At=bt.a.mark(Bt),Dt=bt.a.mark(Pt);function Tt(e){var t,n,a,r,c,o;return bt.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,n=t.title,a=t.description,r=t.history,c=JSON.stringify({title:n,description:a}),o={headers:{"Content-Type":"application/json"}},l.prev=3,l.next=6,Object(pt.a)((function(){return ft.a.post("/api/blogs/",c,o)}));case 6:return l.next=8,Object(pt.b)({type:"BLOG_CREATED"});case 8:return l.next=10,Object(pt.b)(q("Blog created successfully"));case 10:r.goBack(),l.next=17;break;case 13:return l.prev=13,l.t0=l.catch(3),l.next=17,Object(pt.b)(Ue(l.t0));case 17:case"end":return l.stop()}}),Lt,null,[[3,13]])}function Ct(){var e;return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(pt.a)((function(){return ft.a.get("/api/blogs/")}));case 3:return e=t.sent,t.next=6,Object(pt.b)({type:"ALL_BLOGS_LOADED",payload:e.data});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(pt.b)(Ue(t.t0));case 12:case"end":return t.stop()}}),kt,null,[[0,8]])}function _t(e){var t;return bt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.id,n.prev=1,n.next=4,Object(pt.a)((function(){return ft.a.delete("/api/blogs/".concat(t,"/"))}));case 4:return n.next=6,Object(pt.b)(Pe(t));case 6:return n.next=8,Object(pt.b)(q("Blog deleted successfully"));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(1),n.next=14,Object(pt.b)(Ue(n.t0));case 14:case"end":return n.stop()}}),St,null,[[1,10]])}function Gt(e){var t,n;return bt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.id,a.prev=1,a.next=4,Object(pt.a)((function(){return ft.a.get("/api/blogs/".concat(t,"/"))}));case 4:return n=a.sent,a.next=7,Object(pt.b)({type:"BLOG_LOADED",payload:n.data});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(pt.b)(Ue(a.t0));case 13:case"end":return a.stop()}}),Rt,null,[[1,9]])}function Bt(e){var t,n,a,r,c,o,l;return bt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.id,a=t.title,r=t.description,c=t.history,o=JSON.stringify({title:a,description:r}),l={headers:{"Content-Type":"application/json"}},i.prev=3,i.next=6,Object(pt.a)((function(){return ft.a.put("/api/blogs/".concat(n,"/"),o,l)}));case 6:return i.next=8,Object(pt.b)({type:"BLOG_UPDATED"});case 8:return i.next=10,Object(pt.b)(q("Blog updated successfully"));case 10:c.goBack(),i.next=17;break;case 13:return i.prev=13,i.t0=i.catch(3),i.next=17,Object(pt.b)(Ue(i.t0));case 17:case"end":return i.stop()}}),At,null,[[3,13]])}function Pt(){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pt.c)("CREATE_BLOG",Tt);case 2:return e.next=4,Object(pt.c)("LOAD_ALL_BLOGS",Ct);case 4:return e.next=6,Object(pt.c)("DELETE_BLOG",_t);case 6:return e.next=8,Object(pt.c)("LOAD_BLOG",Gt);case 8:return e.next=10,Object(pt.c)("UPDATE_BLOG",Bt);case 10:case"end":return e.stop()}}),Dt)}var Nt=Object(at.a)(),Ut=[Nt],It=Object(tt.createStore)(st,{},Object(nt.composeWithDevTools)(tt.applyMiddleware.apply(void 0,Ut)));Nt.run(wt),Nt.run(Pt);var zt=n(167),Mt=Object(zt.a)(),Yt=(n(314),function(){return Object(a.useEffect)((function(){It.dispatch({type:"LOAD_USER"})}),[]),r.a.createElement(l.a,{store:It},r.a.createElement(i.a,null,r.a.createElement(u.b,{injectFirst:!0},r.a.createElement(s.a,{theme:Mt},r.a.createElement(b.a,{theme:Mt},r.a.createElement(m.a,null),r.a.createElement(G,null),r.a.createElement(et,null))))))});o.a.render(r.a.createElement(Yt,null),document.getElementById("root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.1c2b8852.chunk.js.map